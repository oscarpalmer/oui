@use 'mixins.scss' as mixins;

oui-splitter {
	:where(&) {
		display: flex;
		flex-flow: row nowrap;
		flex: 1;
	}

	:where(& > :first-child) {
		flex: var(--oui-splitter-size, .5);
	}

	:where(& > :last-child) {
		flex: calc(1 - var(--oui-splitter-size, .5));
	}
}

:where([oui-splitter-separator]) {
	width: .25rem;
	background-color: rgba(0, 0, 0, 0.1);
	border-radius: .25rem;
	position: relative;
	transition: background .125s ease-in-out;
}

:where([oui-splitter-separator]:has([oui-splitter-handle]:focus)),
:where([oui-splitter-separator]:has([oui-splitter-handle]:hover)),
:where([oui-splitter-separator][oui-splitter-active]) {
	background-color: color-mix(in oklab, var(--oui-blue-6), transparent 82.5%);
}

:where([oui-splitter-handle]) {
	width: 2rem;
	height: 4rem;
	padding: .875rem;
	position: absolute;
	inset: 50% auto auto 50%;
	transform: translate3d(-50%, -50%, 0);
	cursor: ew-resize;

	&:focus {
		outline: none;
	}

	&::after {
		content: '';
		width: 100%;
		height: 100%;
		display: block;
		background-color: rgba(0, 0, 0, 0.25);
		outline: .25rem solid transparent;
		outline-offset: .25rem;
		border-radius: .25rem;
		transition: background .125s ease-in-out, outline .125s ease-in-out;
	}
}

:where([oui-splitter-handle]:focus),
:where([oui-splitter-handle]:hover),
:where([oui-splitter-handle][oui-splitter-active]) {
	&::after {
		background-color: color-mix(in oklab, var(--oui-blue-6), transparent 50%);
	}
}

:where([oui-splitter-handle]:focus-visible)::after {
	outline-color: color-mix(in oklab, var(--oui-blue-6), transparent 50%);
}

oui-splitter[type='horizontal' i],
oui-splitter[oui-splitter-horizontal] {
	:where(&) {
		flex-flow: column nowrap;
	}

	:where(& [oui-splitter-separator]) {
		width: 100%;
		height: .25rem;
	}

	:where(& [oui-splitter-handle]) {
		width: 4rem;
		height: 2rem;
		cursor: ns-resize;
	}
}
